@import '~base/sass/base/variables';
@import '~base/sass/base/functions';
@import '~base/sass/base/mixins';

.ac-user-selector {
  position: relative;
}

button.selector-trigger-button {
  @include override-edx-styles;
  @include useGrvPrimaryButtonStyleLarge;
  margin-left: calcRem(20);
  transition: all 0.2s ease-in-out;

  &.positive {
    border: calcRem(2) solid $primary-color;
    color: $primary-color;
  }

  &.negative {
    color: $color01;
  }
}

.selector-modal {
  position: absolute;
  top: 0;
  right: 0;
  width: calcRem(360);
  z-index: 50;
  height: 100%;

  >div {
    height: 100%;

    >div {
      height: 100%;

      >input[type="text"] {
        margin: 0;
        box-sizing: border-box;
        @include searchInputStyle;
        height: 100%;
      }
    }

    .search-btn {
      @include useSearchButtonStyle('stroke');
      height: 100%;

      svg {
        path {
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-width: calcRem(2);
        }
      }
    }

    .dismiss-btn {
      border-radius: 50%;
      position: absolute;
      z-index: 5;
      right: calcRem(10);
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      border: 0;
      padding: 0;
      outline: none;
      cursor: pointer;
    }
  }
}

.modal-dismiss {
  @include override-edx-styles;
  font-size: calcRem(14);
  padding: calcRem(12);
  color: rgba($base-text-color, 0.5);
  transition: all 0.3s ease-in-out;
  position: absolute;
  top: calcRem(7);
  right: calcRem(8);
  border-radius: $elements-border-radius;

  &:hover,
  &:hover:not(:disabled) {
    color: $primary-color;
    background: none;
    cursor: pointer;
  }
}

// we have to style inputs like this since the default Open edX stylesheet has these selectors and (sigh) has them target globally in the entire document. Essentially, that renders targeting purely by class name basically futile.

textarea,
input[type="text"],
input[type="url"],
input[type="email"],
input[type="password"],
input[type="tel"] {

  &.input {
    @include override-edx-styles;
    font-size: $base-font-size;
    padding-bottom: calcRem(12);
    margin: 0 calcRem(20);
    color: lighten($base-text-color, 20%);
    width: 100%;

    &::placeholder {
      color: rgba($base-text-color, 0.3);
    }
  }
}

.suggestions-container {}

.suggestionsList {
  padding: calcRem(15) 0;
  margin: calcRem(5) 0 0;
  max-height: calcRem(300);
  overflow-y: auto;
  background-color: $color01;
  box-shadow: 0 0 calcRem(4) rgba(#000, .2);
  border-radius: $globalRadius;

  .suggestion {
    list-style-type: none;
    display: block;
    padding: 0 calcRem(15);

    &:hover {
      background-color: $color23;
    }

    &:not(:last-child) {
      .suggestion-link {
        border-bottom: calcRem(1) solid #E5E5E5;
      }
    }

    .suggestion-link {
      display: block;
      text-decoration: none;
      padding: calcRem(10) 0;

      &__user-username {
        @include fz(11);
        @include useFont1;
        line-height: 1.2;
        font-weight: 600;
        color: $color03;
        margin-bottom: 0;
      }

      &__user-name {
        @include paragraph2;
        margin: calcRem(5) 0 0;
      }
    }
  }
}

.selector-backdrop {
  position: fixed;
  z-index: 5;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}